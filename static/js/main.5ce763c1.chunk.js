(this["webpackJsonpcms.esembico.de"]=this["webpackJsonpcms.esembico.de"]||[]).push([[0],{297:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),c=a(13),o=a.n(c),s=a(26),l=a(5),u=a(143),d=a(144),b=a(27),j={allIds:[],byIds:{},byPage:{},error:null,status:"idle",lastPage:1,currentPage:1,totalItems:0,selectedId:null,editedData:null,filteredData:[],pageLoaded:{},lastEditedField:null};function p(e){var t=e.replace(" ","_").toUpperCase();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELECT_".concat(t,"_ID"):var n=a;return Object(l.a)(Object(l.a)({},e),{},{selectedId:n.selectedId});case"SET_PAGE_".concat(t):var r=a;return Object(l.a)(Object(l.a)({},e),{},{currentPage:r.page});case"SET_EDITED_DATA_".concat(t):var i=a,c=-1===i.id?{id:0}:e.byIds[i.id];return Object(l.a)(Object(l.a)({},e),{},{editedData:c});case"UPDATE_DATA_".concat(t):var o=a,s=e.allIds;return s.includes(o.data.id)||s.push(o.data.id),Object(l.a)(Object(l.a)({},e),{},{allIds:s,byIds:Object(l.a)(Object(l.a)({},e.byIds),{},Object(b.a)({},o.data.id,o.data))});case"UPDATE_EDITED_DATA_".concat(t):var u=a,d=Object(l.a)(Object(l.a)({id:0},e.editedData),{},Object(b.a)({},u.field,u.value));return Object(l.a)(Object(l.a)({},e),{},{editedData:d,lastEditedField:u.trackField?u.field:e.lastEditedField});case"UPDATE_".concat(t):var p=a,m=e.byPage[1];return p.new&&m.unshift(p.data.id),Object(l.a)(Object(l.a)({},e),{},{byIds:Object(l.a)(Object(l.a)({},e.byIds),{},Object(b.a)({},p.data.id,p.data)),pageLoaded:{}});case"FETCH_".concat(t,"_PENDING"):return Object(l.a)(Object(l.a)({},e),{},{status:"loading"});case"SET_FILTERED_DATA_".concat(t):var h=a;return Object(l.a)(Object(l.a)({},e),{},{filteredData:h.data});case"FETCH_".concat(t,"_SUCCESS"):var g=a,O=[],f={},v=[],y=g.payload,x=y.data,E=y.page,S=y.nextPage;x.forEach((function(e){v.push(e.id),O.push(e.id),f[e.id]=e}));var T=Object(l.a)(Object(l.a)({},e.byIds),f),C=Math.max(e.lastPage,S||e.lastPage);return Object(l.a)(Object(l.a)({},e),{},{allIds:O,byIds:T,byPage:Object(l.a)(Object(l.a)({},e.byPage),{},Object(b.a)({},E,v)),status:"idle",lastPage:C,currentPage:E,totalItems:g.payload.count,pageLoaded:Object(l.a)(Object(l.a)({},e.pageLoaded),{},Object(b.a)({},E,Date.now()))});case"FETCH_".concat(t,"_ERROR"):var _=a;return Object(l.a)(Object(l.a)({},e),{},{error:_.error,status:"idle"});case"SET_STATUS_".concat(t):var D=a;return Object(l.a)(Object(l.a)({},e),{},{status:D.status});default:return e}}}function m(e){var t={"Content-Type":"application/json"};return e&&(t.Authorization="Token ".concat(e)),t}function h(e,t){return new Promise((function(a,n){fetch(e,t).then((function(e){e.ok?204!==e.status?e.json().then((function(e){a(e)})):a(null):e.json().then((function(t){n({status:e.status,message:t.detail})}))})).catch(n)}))}function g(e,t){var a=e.replace(" ","_").toUpperCase(),n=function(n,r){return function(i,c){var o=c(),s=o.auth.token,l=ut.getSelector(e,"getPageLastLoaded")(o,n),u=Date.now()-l;!r&&u<6e4?i({type:"SET_PAGE_".concat(a),page:n}):(i({type:"FETCH_".concat(a,"_PENDING")}),h("".concat("https://api.esembico.de","/").concat(t,"/?page=").concat(n),{headers:m(s)}).then((function(t){var r=ut.getOption(e,"getNextPageNumber")(t);return i({type:"FETCH_".concat(a,"_SUCCESS"),payload:{data:t.results,count:t.count,page:n,nextPage:r}}),t.results})).catch((function(e){i({type:"FETCH_".concat(a,"_ERROR"),error:e})})))}};return{getPageAction:n,selectItemAction:function(e){return function(t){t({type:"SELECT_".concat(a,"_ID"),selectedId:e})}},setEditedDataAction:function(n){return function(r,i){var c=i(),o=c.auth.token;-1===n||c[e].allIds.includes(n)?r({type:"SET_EDITED_DATA_".concat(a),id:n}):h("".concat("https://api.esembico.de","/").concat(t,"/").concat(n,"/"),{headers:m(o)}).then((function(e){r({type:"UPDATE_DATA_".concat(a),data:e}),r({type:"SET_EDITED_DATA_".concat(a),id:n})})).catch((function(e){r({type:"FETCH_".concat(a,"_ERROR"),error:e})}))}},updateEditedDataAction:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r){r({type:"UPDATE_EDITED_DATA_".concat(a),field:e,value:t,trackField:n})}},commitDataAction:function(e,n,r){return function(i,c){var o=c().auth.token;i({type:"SET_STATUS_".concat(a),status:"saving"}),h("".concat("https://api.esembico.de","/").concat(t,"/").concat(e.id?"".concat(e.id,"/"):""),{method:e.id?"PUT":"POST",headers:m(o),body:JSON.stringify(e)}).then((function(t){i({type:"UPDATE_".concat(a),data:t,new:!e.id}),i({type:"SET_STATUS_".concat(a),status:"idle"}),n&&"function"===typeof n&&n(t)})).catch((function(e){i({type:"FETCH_".concat(a,"_ERROR"),error:e}),r&&r(e)}))}},setFilteredDataAction:function(e){return function(n,r){var i=r().auth.token;h("".concat("https://api.esembico.de","/").concat(t,"/?search=").concat(e),{headers:m(i)}).then((function(e){n({type:"SET_FILTERED_DATA_".concat(a),data:e.results})})).catch((function(e){n({type:"FETCH_".concat(a,"_ERROR"),error:e})}))}},deleteItemAction:function(r,i,c){return function(o,s){o({type:"SET_STATUS_".concat(a),status:"deleting"});var l=s(),u=l.auth.token,d=ut.getSelector(e,"getCurrentPage");h("".concat("https://api.esembico.de","/").concat(t,"/").concat(r,"/"),{method:"DELETE",headers:m(u)}).then((function(){var e=d(l);o(n(e,!0)),o({type:"SET_STATUS_".concat(a),status:"idle"}),i&&"function"===typeof i&&i()})).catch((function(e){o({type:"FETCH_".concat(a,"_ERROR"),error:e}),c&&c(e)}))}}}}var O=a(17),f="SET_TOKEN",v="SET_USERNAME",y="SET_AUTH_ERROR",x="SET_PERMISSIONS",E="SET_SUPERUSER",S="SET_SIDEBAR_VISIBLE",T="SET_THEME",C="ADD_ALERT",_="REMOVE_ALERT",D={alerts:{}};function P(e){return function(t){t({type:C,data:Object(l.a)(Object(l.a)({},e),{},{timestamp:Date.now()}),id:"_"+Math.random().toString(36).substr(2,9)})}}function k(e){return function(t){t({type:_,id:e})}}var w=function(e){return e.auth},A=function(e,t){return!!function(e){return!!w(e)&&w(e).superuser}(e)||!!function(e){return w(e)?w(e).permissions:[]}(e).find((function(e){return e.codename===t}))},I=function(e,t,a){return A(e,"".concat(a,"_").concat(t))};function N(e,t){return{mapStateToProps:function(a){var n=ut.getSelectors(e),r=n.getError,i=n.getStatus,c=n.getCurrentPageData,o=n.getLastPage,s=n.getCurrentPage,l=n.getSelectedId,u=n.getSelectedData,d=n.getEditedData,b=n.getTotalItems,j=n.getLastEditedField,p=r(a),m=i(a),h=c(a),g=o(a),O=s(a),f=l(a),v=u(a),y=d(a),x=b(a),E=j(a),S=I(a,t,"delete");return{error:p,status:m,data:h,lastPage:g,currentPage:O,selectedId:f,selectedData:v,editedData:y,totalItems:x,lastEditedField:E,canAdd:I(a,t,"add"),canDelete:S,canChange:I(a,t,"change")}},mapDispatchToProps:function(t){var a=ut.getActions(e),n=a.fetchAction,r=a.getPageAction,i=a.selectItemAction,c=a.setEditedDataAction,o=a.updateEditedDataAction,s=a.commitDataAction,l=a.deleteItemAction;return Object(O.b)({fetchData:n,selectPage:r,selectItem:i,setEditedData:c,updateEditedData:o,commitData:s,deleteItem:l,addAlert:P},t)}}}function F(e){var t=function(t){return t[e]},a=function(e){return t(e)?t(e).allIds:[]},n=function(e,a){return t(e)?Object(l.a)(Object(l.a)({},t(e).byIds[a]),{},{id:a}):{}},r=function(e,a){return(t(e)?t(e).byPage[a]:[])||[]},i=function(e){return t(e)?t(e).currentPage:1},c=function(e){return t(e)?t(e).selectedId:null};return{getState:t,getList:a,getById:n,get:function(e){return a(e).map((function(t){return n(e,t)}))},getPage:r,getCurrentPage:i,getLastPage:function(e){return t(e)?t(e).lastPage:1},getCurrentPageData:function(e){var t=i(e);return r(e,t).map((function(t){return n(e,t)}))},getStatus:function(e){return t(e)?t(e).status:"idle"},getError:function(e){return t(e)?t(e).error:null},getSelectedId:c,getSelectedData:function(e){var t=c(e);return t&&c(e)?n(e,t):{}},getEditedData:function(e){return t(e)?t(e).editedData:null},getFilteredData:function(e){return t(e)?t(e).filteredData:[]},getPageLastLoaded:function(e,a){var n=t(e);return n&&n.pageLoaded[a]?n.pageLoaded[a]:0},getTotalItems:function(e){return t(e)?t(e).totalItems:0},getLastEditedField:function(e){return t(e)?t(e).lastEditedField:null}}}function q(e){return e.charAt(0).toUpperCase()+e.slice(1)}var U=a(55);function L(e){var t=e.children;return Object(n.jsx)("div",{className:"row",children:t})}var R=a(366);function M(e){var t=e.value,a=e.label,r=e.errors,i=Object(U.a)(e,["value","label","errors"]),c=[];return t&&c.push("has-value"),r&&c.push("has-errors"),Object(n.jsx)(R.a,Object(l.a)({error:!!r,label:a,value:t||"",helperText:null===r||void 0===r?void 0:r.join("\n"),fullWidth:!0,margin:"normal"},i))}var H=a(402),B=a(16);function V(e,t){return e?"object"!==typeof e?e:"string"===typeof t?e[t]:"function"===typeof t?t(e):"":""}function W(e){var t=e.label,a=e.entity,r=e.value,c=e.onChange,o=e.errors,s=e.required,u=Object(B.d)().getState(),d=ut.getAction(a,"setFilteredDataAction"),b=ut.getSelector(a,"getFilteredData")(u),j=ut.getOption(a,"primaryProperty"),p=Object(B.c)();return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(H.a,{options:b,getOptionLabel:function(e){return V(e,j.display)},onChange:function(e,t){c(t)},onInputChange:function(e,t){p(d(t))},value:r,renderInput:function(e){return Object(n.jsx)(R.a,Object(l.a)(Object(l.a)({error:!!o,helperText:null===o||void 0===o?void 0:o.join("\n")},e),{},{label:t,margin:"normal",required:s}))},getOptionSelected:function(e,t){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)}})})}var G=a(150),z=a.n(G),J=a(107),K=a.n(J),X=a(91),Y=a(372),Z=(a(292),a(293),a(294),Object(Y.a)((function(e){return{error:{color:e.palette.error.main}}})));function Q(e){var t=e.errors,a=Z();return Object(n.jsx)(i.a.Fragment,{children:t&&Object(n.jsx)(i.a.Fragment,{children:t.map((function(e,t){return Object(n.jsx)("span",{className:a.error,children:e},t)}))})})}var $=a(3),ee=Object(Y.a)((function(e){return{formGroup:{marginBottom:e.spacing(2)},error:{color:e.palette.error.main},editor:{"& .react-mde":{border:"1px solid ".concat(e.palette.primary.main)},"& .mde-header":{backgroundColor:e.palette.primary.main,"& .mde-tabs button":{color:e.palette.text.primary,"&.selected":{border:"1px solid ".concat(e.palette.text.primary)}}},"& li.mde-header-item button svg":{color:e.palette.text.primary},"& .mde-textarea-wrapper textarea.mde-text":{backgroundColor:e.palette.background.default,color:e.palette.text.primary},"& .mde-preview-content":{maxWidth:"85vw"}},editorError:{"& .react-mde":{border:"1px solid ".concat(e.palette.error.main)}}}})),te={vba:X.languageVBA,python:X.languagePython},ae={code:function(e){var t=e.language,a=e.value;return Object(n.jsx)(X.CodeHighlighter,{getLanguageFunction:function(e,t){return t(te[e])},language:t,children:a})},image:function(e){return Object(n.jsx)("img",Object(l.a)({className:"responsive-image"},e))}};function ne(e){var t=e.label,a=e.value,i=e.onChange,c=e.errors,o=ee(),l=Object(r.useState)("write"),u=Object(s.a)(l,2),d=u[0],j=u[1];return Object(n.jsxs)("div",{className:o.formGroup,children:[Object(n.jsx)("label",{className:Object($.a)(Object(b.a)({},o.error,!!c)),children:t}),Object(n.jsx)("div",{className:Object($.a)(o.editor,Object(b.a)({},o.editorError,!!c)),children:Object(n.jsx)(K.a,{value:a||"",onChange:i,selectedTab:d,onTabChange:j,generateMarkdownPreview:function(e){return Promise.resolve(Object(n.jsx)(z.a,{renderers:ae,source:e}))}})}),Object(n.jsx)(Q,{errors:c})]})}var re=a(309),ie=a(303),ce=a(312),oe=a(373),se=a(304);function le(e){var t=e.label,a=e.value,r=e.options,i=e.errors,c=e.onChange,o=e.required;return Object(n.jsxs)(ie.a,{required:o,error:!!i,fullWidth:!0,children:[Object(n.jsx)(ce.a,{children:t}),Object(n.jsxs)(re.a,{required:o,displayEmpty:!0,fullWidth:!0,value:a,onChange:c,children:[Object(n.jsx)(oe.a,{value:"",children:Object(n.jsx)("em",{children:"None"})}),r.map((function(e){return Object(n.jsx)(oe.a,{value:e.value,children:e.display},e.value)}))]}),Object(n.jsx)(se.a,{children:null===i||void 0===i?void 0:i.join("\n")})]})}function ue(e,t){return"function"===typeof e?e(t):e}function de(e){var t=e.value,a=e.base,r=e.width,i=e.height,c=e.alt,o=new URL(t,a);return Object(n.jsx)("img",{className:"responsive-image",src:o.href,width:r,height:i,alt:c,onError:function(e){return e.target.style.display="none"},onLoad:function(e){return e.target.style.display="block"}})}var be=a(404),je=a(375),pe=a(374);function me(e){var t=e.label,a=e.checked,r=e.onChange,i=e.errors;return Object(n.jsx)(pe.a,{row:!0,children:Object(n.jsxs)(ie.a,{error:!!i,children:[Object(n.jsx)(je.a,{control:Object(n.jsx)(be.a,{checked:a,onChange:r}),label:t}),Object(n.jsx)(se.a,{children:null===i||void 0===i?void 0:i.join("\n")})]})})}function he(e){var t=e.property,a=e.data,r=e.onUpdate,c=e.lastEditedField,o=Object(U.a)(e,["property","data","onUpdate","lastEditedField"]);if(t.if&&!t.if(a))return Object(n.jsx)(i.a.Fragment,{});var s=ue(t.label,a),u=t.fieldProps?t.fieldProps(a):{};switch(t.type){case"select":return Object(n.jsx)(le,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{label:s,value:a[t.name],onChange:function(e){return r(t.name,e.target.value)},options:t.options,required:t.required}));case"text":return Object(n.jsx)(M,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{label:s,value:a[t.name],multiline:t.multiline,onChange:function(e){return r(t.name,e.target.value)},required:t.required}));case"url":return Object(n.jsx)(M,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{label:s,value:a[t.name],onChange:function(e){return r(t.name,e.target.value)},required:t.required}));case"number":return Object(n.jsx)(M,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{type:"number",label:s,value:a[t.name],onChange:function(e){return r(t.name,e.target.value||null)},required:t.required},o));case"reference":return Object(n.jsx)(W,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{label:s,entity:t.to,value:a[t.name],onChange:function(e){return r(t.name,e)},required:t.required}));case"markdown":return Object(n.jsx)(ne,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{label:s,value:a[t.name],onChange:function(e){return r(t.name,e)}}));case"generated":var d=a[t.name];return c&&t.dependsOn.includes(c)&&(d=t.value(a))!==a[t.name]&&r(t.name,d,!1),Object(n.jsx)(M,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{label:s,InputProps:{readOnly:!0},value:d,onChange:function(e){return r(t.name,e.target.value)},required:t.required}));case"image-preview":return Object(n.jsx)(de,Object(l.a)(Object(l.a)(Object(l.a)({},u),o),{},{value:a[t.name],base:t.base}));case"boolean":return Object(n.jsx)(me,Object(l.a)(Object(l.a)(Object(l.a)({},o),u),{},{label:s,checked:a[t.name],onChange:function(e){return r(t.name,e.target.checked)}}));default:throw Error("Unsupported type for field ".concat(t.name))}}function ge(e){var t=e.properties;return function(e){var a=e.data,r=e.onUpdate,c=e.errors,o=e.lastEditedField;return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(L,{children:t.map((function(e){return Object(n.jsx)(i.a.Fragment,{children:he({property:e,data:a,onUpdate:r,errors:c[e.name],lastEditedField:o})},e.key||e.name)}))})})}}function Oe(e){return function(t){var a={},n=function(e,t){return{required:function(a,n){t[n]||(e[n]||(e[n]=[]),e[n].push("".concat(a," is required")))},requireNumber:function(a,n){var r=t[n];r&&isNaN(r)&&(e[n]||(e[n]=[]),e[n].push("".concat(a," should be a number")))},requireUrl:function(a,n){var r=t[n];try{new URL(r,"http://esembico.de")}catch(i){e[n]||(e[n]=[]),e[n].push("".concat(a," should be a valid url"))}}}}(a,t),r=n.required,i=n.requireNumber,c=n.requireUrl;return e.forEach((function(e){if(!e.if||e.if(t)){var a=ue(e.label,t);e.required&&r(a,e.name),"number"===e.type&&i(a,e.name),"url"===e.type&&c(a,e.name)}})),a}}var fe=a(376),ve=a(377),ye=a(378),xe=a(381),Ee=a(382),Se=a(379),Te=a(380),Ce=a(405),_e=a(371),De=a(110),Pe=a.n(De),ke=a(112),we=a.n(ke),Ae=a(111),Ie=a.n(Ae),Ne=a(109),Fe=a.n(Ne),qe=a(28),Ue=Object(Y.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Le(e){var t=e.onChangePage,a=e.count,r=e.page,i=e.rowsPerPage,c=Ue(),o=Object(qe.a)();return Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(_e.a,{onClick:function(e){t(e,1)},disabled:0===r,"aria-label":"first page",children:"rtl"===o.direction?Object(n.jsx)(Fe.a,{}):Object(n.jsx)(Pe.a,{})}),Object(n.jsx)(_e.a,{onClick:function(e){t(e,r)},disabled:0===r,"aria-label":"previous page",children:"rtl"===o.direction?Object(n.jsx)(Ie.a,{}):Object(n.jsx)(we.a,{})}),Object(n.jsx)(_e.a,{onClick:function(e){t(e,r+2)},disabled:r>=Math.ceil(a/i)-1,"aria-label":"next page",children:"rtl"===o.direction?Object(n.jsx)(we.a,{}):Object(n.jsx)(Ie.a,{})}),Object(n.jsx)(_e.a,{onClick:function(e){t(e,Math.max(0,Math.ceil(a/i)))},disabled:r>=Math.ceil(a/i)-1,"aria-label":"last page",children:"rtl"===o.direction?Object(n.jsx)(Pe.a,{}):Object(n.jsx)(Fe.a,{})})]})}function Re(e){var t=e.data,a=e.columns,r=e.pageData,c=e.totalItems,o=e.onPageChange,s=e.onSelect,l=e.selected,u=e.className;return Object(n.jsx)(i.a.Fragment,{children:Object(n.jsx)(fe.a,{children:Object(n.jsxs)(ve.a,{className:u,children:[Object(n.jsx)(ye.a,{children:Object(n.jsx)(Se.a,{children:a.map((function(e){return Object(n.jsx)(Te.a,{children:e.header},e.header)}))})}),Object(n.jsx)(xe.a,{children:t.map((function(e){return Object(n.jsx)(Se.a,{onClick:function(){return s(e.id)},selected:e.id===l,hover:!0,children:a.map((function(t){var a=V(e,t.display);return Object(n.jsx)(Te.a,{children:"object"===typeof a?a:null===a||void 0===a?void 0:a.toString()},"".concat(t.header,"-").concat(e.id))}))},e.id)}))}),c?Object(n.jsx)(Ee.a,{children:Object(n.jsx)(Se.a,{children:Object(n.jsx)(Ce.a,{rowsPerPageOptions:[],colSpan:a.length,count:c,rowsPerPage:parseInt(("50","50")),page:r.current-1,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){return o(t)},ActionsComponent:Le})})}):null]})})})}var Me=a(56),He=a(384);function Be(e){var t=e.children,a=e.loading;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(Me.a,{variant:"h3",children:t}),a?Object(n.jsx)(He.a,{}):Object(n.jsx)("hr",{})]})}function Ve(e){var t=e.children;return Object(n.jsx)("div",{className:"container",children:t})}var We=a(15),Ge=a(385),ze=a(90),Je=a.n(ze),Ke=Object(Y.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},dataTable:{marginBottom:e.spacing(5)}}}));function Xe(e){var t=e.columns,a=e.entity,c=ut.getMappers(a),o=c.mapStateToProps,s=c.mapDispatchToProps;return Object(B.b)(o,s)((function(e){var c=e.data,o=e.status,s=e.lastPage,l=e.currentPage,u=e.totalItems,d=e.selectPage,b=e.selectItem,j=e.selectedId,p=e.canAdd,m=Ke(),h=Object(We.g)();Object(r.useEffect)((function(){d(1)}),[d]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(Be,{loading:"idle"!==o,children:ut.getOption(a,"header")}),"loading"!==o&&Object(n.jsx)(i.a.Fragment,{children:Object(n.jsxs)(Ve,{children:[Object(n.jsx)(Re,{className:m.dataTable,pageData:{current:l,last:s},data:c,columns:t,onPageChange:function(e){d(e)},onSelect:function(e){b(e),h.push(ut.getEditUrl(a,e))},selected:j,totalItems:u}),Object(n.jsx)(Ge.a,{className:m.fab,color:"primary","aria-label":"New",onClick:function(){h.push(ut.getEditUrl(a,"new"))},disabled:!p,children:Object(n.jsx)(Je.a,{})})]})})]})}))}function Ye(e){var t=e.children,a=e.width;return Object(n.jsx)("div",{className:"col col-".concat(a),children:t})}var Ze=a(387),Qe=a(388),$e=a(390),et=a(389),tt=a(391),at=a(392),nt=a(306),rt=a(386),it=Object(Y.a)((function(){return{buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function ct(e){var t=e.disabled,a=e.loading,r=e.children,i=Object(U.a)(e,["disabled","loading","children"]),c=it();return Object(n.jsxs)(nt.a,Object(l.a)(Object(l.a)({},i),{},{disabled:t||a,children:[r,a&&Object(n.jsx)(rt.a,{className:c.buttonProgress,size:24})]}))}var ot=Object(Y.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),st={show:!1};function lt(e){var t=e.Editor,a=e.entity,i=ut.getMappers(a),c=i.mapStateToProps,o=i.mapDispatchToProps;return Object(B.b)(c,o)((function(e){var i,c=e.editedData,o=e.selectPage,l=e.setEditedData,u=e.updateEditedData,d=e.commitData,b=e.status,j=e.lastEditedField,p=e.addAlert,m=e.canAdd,h=ot(),g=Object(r.useState)({}),O=Object(s.a)(g,2),f=O[0],v=O[1],y=ut.getEditorActions(a),x=ut.getOption(a,"validateData");Object(r.useEffect)((function(){o(1)}),[o]);var E=Object(We.h)(),S=Object(We.g)(),T=E.id,C=Object(r.useState)(st),_=Object(s.a)(C,2),D=_[0],P=_[1],k=function(t){return Object(n.jsx)(ct,{color:t.buttonColor,onClick:function(){t.onClick&&t.onClick({props:e,id:T,errors:f,entity:a,history:S},(function(e){return P(e)}),(function(){return P(st)}))},disabled:!!t.disabled&&t.disabled({props:e,id:T,errors:f,entity:a,history:S}),loading:!!t.loading&&t.loading(b),type:t.isSubmitAction?"submit":void 0,children:t.text},t.name)};Object(r.useEffect)((function(){l("new"===T?-1:parseInt(T))}),[T]),Object(r.useEffect)((function(){var e=x(c||{});v(e||{})}),[c,x]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(Be,{loading:"idle"!==b,children:ut.getOption(a,"header")}),c&&Object(n.jsxs)(Ve,{children:[Object(n.jsx)(L,{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0===Object.keys(f).length&&d(c,(function(e){S.push(ut.getEditUrl(a,e.id))}),(function(e){p({severity:"error",title:"Failed to Save",message:e.message})}))},children:[Object(n.jsx)(t,{errors:f,onUpdate:u,data:c,lastEditedField:j}),Object(n.jsx)(Ye,{width:100,children:Object(n.jsx)(Ze.a,{color:"primary",variant:"contained",children:y.map((function(e){return k(e)}))})})]})}),Object(n.jsx)(Ge.a,{className:h.fab,color:"primary","aria-label":"New",onClick:function(){S.push(ut.getEditUrl(a,"new"))},disabled:!m||!c.id,children:Object(n.jsx)(Je.a,{})}),Object(n.jsxs)(Qe.a,{open:D.show,onClose:function(){return P(st)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(et.a,{id:"alert-dialog-title",children:D.title}),Object(n.jsxs)($e.a,{children:[Object(n.jsx)(tt.a,{id:"alert-dialog-description",children:D.text}),D.component]}),Object(n.jsx)(at.a,{children:null===(i=D.actions)||void 0===i?void 0:i.map((function(e){return k(e)}))})]})]})]})}))}var ut=new(function(){function e(){var t=this;Object(u.a)(this,e),this.states=void 0,this.defaultOptions=void 0,this.globalOptions=void 0,this.states={},this.defaultOptions={validateData:function(){return{}},editorActions:[{name:"save",text:"Save",isSubmitAction:!0,loading:function(e){return"saving"===e},disabled:function(e){var t=e.props,a=e.id,n=e.errors;return"new"!==a&&!t.canChange||0!==Object.keys(n).length}},{name:"cancel",text:"Cancel",onClick:function(e){var a=e.history,n=e.entity;a.push(t.getListUrl(n))}},{name:"delete",text:"Delete",loading:function(e){return"deleting"===e},disabled:function(e){var t=e.props;return!t.canDelete||!t.editedData.id},buttonColor:"secondary",onClick:function(e,a,n){var r=e.entity,i=e.props.editedData;a({title:"Delete ".concat(t.getOption(r,"singularName")),show:!0,text:"Are you sure you want to delete the following ".concat(t.getOption(r,"singularName"),": ").concat(V(i,t.getOption(r,"primaryProperty").display)),actions:[{name:"yes",text:"Yes",buttonColor:"secondary",onClick:function(e){var a=e.props,n=e.id,r=e.history,i=e.entity,c=a.addAlert;(0,a.deleteItem)(n,(function(){r.push(t.getListUrl(i))}),(function(e){c({severity:"error",title:"Failed to delete",message:e.message})}))}},{name:"no",text:"No",buttonColor:"secondary",onClick:function(){n()}}]})}}]},this.globalOptions={}}return Object(d.a)(e,[{key:"setGlobalOptions",value:function(e){this.globalOptions=e}},{key:"register",value:function(e){var t,a,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(l.a)(Object(l.a)(Object(l.a)({},this.defaultOptions),this.globalOptions),r),c=null!==(t=r.editor)&&void 0!==t?t:[],o=i.validateData;if(i.buildValidationFromEditor){if(!Array.isArray(c))throw Error("editor needs to be an array to build validation");o=Oe(c)}if(Array.isArray(c)&&(c=ge({properties:c})),!o)throw Error("validateData is required");if(!c)throw new Error("editor is required");var s=null!==(a=i.model)&&void 0!==a?a:e;this.states[e]=Object(l.a)(Object(l.a)({},i),{},{actions:g(e,i.endpoint||e),selectors:F(e),mappers:N(e,s),reducer:p(e),header:i.header||q(e),validateData:o,editor:c,model:s,editorActions:null!==(n=i.editorActions)&&void 0!==n?n:[]})}},{key:"getListUrl",value:function(e){return"/".concat(e)}},{key:"getEditUrl",value:function(e,t){return"/".concat(e,"/").concat(t)}},{key:"getLinks",value:function(){var e=this,t=[];return Object.entries(this.states).forEach((function(a){var n=Object(s.a)(a,2),r=n[0],i=n[1];t.push({text:i.header,to:e.getListUrl(r),icon:i.icon})})),t}},{key:"getRoutes",value:function(){var e=[];return Object.entries(this.states).forEach((function(t){var a,n=Object(s.a)(t,2),r=n[0],i=n[1];e.push({name:r,listPath:"/".concat(r),editPath:"/".concat(r,"/:id"),listComponent:Xe({columns:null!==(a=i.columns)&&void 0!==a?a:[],entity:r}),editComponent:lt({entity:r,Editor:i.editor})})})),e}},{key:"getOption",value:function(e,t,a){return this.states[e][t]||a}},{key:"getActions",value:function(e){return this.states[e].actions}},{key:"getAction",value:function(e,t){return this.states[e].actions[t]}},{key:"getSelectors",value:function(e){return this.states[e].selectors}},{key:"getSelector",value:function(e,t){return this.states[e].selectors[t]}},{key:"getMappers",value:function(e){return this.states[e].mappers}},{key:"getReducer",value:function(e){return this.states[e].reducer}},{key:"getReducers",value:function(){var e={};return Object.entries(this.states).forEach((function(t){var a,n=Object(s.a)(t,2),r=n[0],i=n[1];e[(a=r,a.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""))]=i.reducer})),e}},{key:"getEditorActions",value:function(e){return this.states[e].editorActions}}]),e}()),dt=a(151),bt=a.n(dt),jt={singularName:"team member",model:"member",icon:Object(n.jsx)(bt.a,{}),endpoint:"members",columns:[{header:"Name",display:"name"},{header:"Artist name",display:"artist_name"},{header:"Title",display:"titles"}],primaryProperty:{display:function(e){return"".concat(e.name," (").concat(e.artist_name,")")},header:"Name"},editor:[{type:"text",label:"Name",name:"name",required:!0},{type:"text",label:"Artist name",name:"artist_name",required:!0},{type:"text",label:"Titles",name:"titles",required:!0},{type:"text",label:"Bio",name:"bio",multiline:!0,required:!0},{type:"reference",label:"Image",name:"image",to:"images",required:!0}]},pt=a(153),mt=a.n(pt),ht=a(154),gt=a.n(ht),Ot=a(152),ft=a.n(Ot),vt={singularName:"recommendation",model:"recommendation",icon:Object(n.jsx)(ft.a,{}),columns:[{header:"Type",display:function(e){switch(e.type){case"movie":return Object(n.jsx)(mt.a,{});case"misc":return Object(n.jsx)(gt.a,{});default:return e.type}}},{header:"Title",display:"title"},{header:"Description",display:"description"}],primaryProperty:{header:"Title",display:"title"},editor:[{type:"select",label:"Type",name:"type",options:[{value:"misc",display:"Misc"},{value:"movie",display:"Movie"}],required:!0},{type:"url",label:"Url",name:"url",required:!0},{type:"text",label:"Title",name:"title",required:!0},{type:"reference",label:"Image",name:"image",to:"images",required:!0},{type:"text",label:"Description",name:"description",if:function(e){return"misc"===e.type},required:!0},{type:"text",label:function(e){return"movie"===e.type?"FSK Rating":"Field1"},name:"field1",if:function(e){return"movie"===e.type},required:!0},{type:"text",label:function(e){return"movie"===e.type?"Release year":"Field2"},name:"field2",if:function(e){return"movie"===e.type},required:!0},{type:"text",label:"Field3",name:"field3",if:function(){return!1}},{type:"text",label:"Field4",name:"field4",if:function(){return!1}},{type:"text",label:"Field5",name:"field5",if:function(){return!1}}]},yt=a(155),xt=a.n(yt),Et={singularName:"image",model:"image",icon:Object(n.jsx)(xt.a,{}),columns:[{header:"Url",display:"url"},{header:"Alternate text",display:"alt"},{header:"Dimension",display:function(e){return"".concat(e.width||"auto"," x ").concat(e.height||"auto")}}],primaryProperty:{header:"Url",display:"url"},editor:[{type:"url",label:"Url",name:"url",required:!0},{type:"image-preview",label:"Preview",key:"image-preview",name:"url",base:"http://react.esembico.de",fieldProps:function(e){return{width:e.width,height:e.height,alt:e.alt}}},{type:"text",label:"Alt",name:"alt",required:!0},{type:"number",label:"Width",name:"width"},{type:"number",label:"Height",name:"height"}]},St=a(156),Tt=a.n(St),Ct={singularName:"prototype",model:"prototype",icon:Object(n.jsx)(Tt.a,{}),columns:[{header:"Title",display:"title"},{header:"Subtitle",display:"subtitle"}],primaryProperty:{header:"Title",display:"title"},editor:[{type:"text",label:"Title",name:"title",required:!0},{type:"text",label:"Subtitle",name:"subtitle",required:!0},{type:"url",label:"Url",name:"url",required:!0},{type:"reference",label:"Image",name:"image",to:"images",required:!0},{type:"text",label:"Challenge",name:"challenge",multiline:!0,required:!0},{type:"text",label:"Solution",name:"solution",multiline:!0,required:!0},{type:"text",label:"Rough details",name:"rough_details",multiline:!0,required:!0}]},_t=a(157),Dt=a.n(_t),Pt={singularName:"page",model:"page",icon:Object(n.jsx)(Dt.a,{}),columns:[{header:"Name",display:"name"},{header:"Slug",display:"slug"}],primaryProperty:{header:"Name",display:"name"},editor:[{type:"text",label:"Name",name:"name",required:!0},{type:"generated",label:"Slug",name:"slug",value:function(e){var t;return"string"===typeof e.name?null===(t=e.name)||void 0===t?void 0:t.replace(" ","-").toLowerCase():""},dependsOn:["name"],required:!0},{type:"markdown",label:"Content",name:"content",required:!0}]},kt=a(158),wt=a.n(kt),At={singularName:"user",model:"user",icon:Object(n.jsx)(wt.a,{}),columns:[{header:"Username",display:"username"},{header:"Email",display:"email"},{header:"Active",display:"is_active"}],primaryProperty:{header:"Username",display:"username"},editor:[{type:"text",label:"Username",name:"username",required:!0},{type:"text",label:"Email",name:"email"},{type:"text",label:"First name",name:"first_name"},{type:"text",label:"Last name",name:"last_name"},{type:"boolean",label:"Superuser",name:"is_superuser"},{type:"boolean",label:"Active",name:"is_active"},{type:"boolean",label:"Staff",name:"is_staff"}]};ut.setGlobalOptions({buildValidationFromEditor:!0,getNextPageNumber:function(e){if(e.next&&"string"===typeof e.next){var t=e.next.match(/[\w\W]*page=([0-9]*)/);return t?parseInt(t[1]):null}return null}}),ut.register("team",jt),ut.register("recommendations",vt),ut.register("prototypes",Ct),ut.register("pages",Pt),ut.register("images",Et),ut.register("users",At);var It=a(40),Nt={token:localStorage.getItem("token"),username:null,error:null,superuser:!1,permissions:[]};function Ft(){return function(e){e({type:f,token:null}),e({type:v,username:null})}}function qt(){return function(e,t){var a=t();h("".concat("https://api.esembico.de","/current-user/"),{headers:m(a.auth.token)}).then((function(t){e({type:v,username:t.username}),e({type:E,superuser:t.is_superuser}),e({type:x,permissions:t.user_permissions})})).catch((function(t){e({type:f,token:null}),e({type:y,error:t})}))}}function Ut(e,t){return function(a){h("".concat("https://api.esembico.de","/auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){e.non_field_errors?a({type:y,error:e.non_field_errors}):(a({type:f,token:e.token}),a(qt()))})).catch((function(e){a({type:y,error:e})}))}}var Lt,Rt=Object(B.b)((function(e){return{token:e.auth.token}}))((function(e){var t=e.token,a=e.component,r=Object(U.a)(e,["token","component"]);return Object(n.jsx)(We.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){return t?Object(n.jsx)(a,Object(l.a)({},e)):Object(n.jsx)(We.a,{to:"/login"})}}))})),Mt={sidebarVisible:!0,themeName:null!==(Lt=localStorage.getItem("theme"))&&void 0!==Lt?Lt:"system"};function Ht(e){return function(t){t({type:S,visible:e})}}function Bt(e){return function(t){t({type:T,theme:e})}}var Vt=a(397),Wt=a(398),Gt=a(383),zt=a(162),Jt=a.n(zt),Kt=a(407),Xt=a(395),Yt=a(370),Zt=a(305),Qt=a(394),$t=a(393);function ea(e){var t=e.icon,a=e.primary,r=e.to,i=e.exact;return Object(n.jsx)("li",{children:Object(n.jsxs)(Zt.a,{button:!0,component:It.b,to:r,activeClassName:"Mui-selected",exact:i,children:[t?Object(n.jsx)($t.a,{children:t}):null,Object(n.jsx)(Qt.a,{primary:a})]})})}var ta=a(160),aa=a.n(ta),na=a(161),ra=a.n(na),ia=a(159),ca=a.n(ia),oa=a(163),sa=a.n(oa),la=a(167),ua=a(396),da=240,ba=[{to:"/",text:"Home",icon:Object(n.jsx)(ca.a,{}),exact:!0}],ja=Object(Y.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(da,"px)"),marginLeft:da,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},hide:{display:"none"},drawer:{width:da,flexShrink:0},drawerPaper:{width:da},drawerHeader:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentSmUp:{marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function pa(e){var t=e.handleDrawerClose,a=e.classes,r=e.entityLinks,c=Object(qe.a)();return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)("div",{className:a.drawerHeader,children:Object(n.jsx)(_e.a,{onClick:t,children:"ltr"===c.direction?Object(n.jsx)(aa.a,{}):Object(n.jsx)(ra.a,{})})}),Object(n.jsx)(Xt.a,{}),Object(n.jsxs)(Yt.a,{children:[ba.map((function(e){return Object(n.jsx)(ea,{to:e.to,primary:e.text,icon:e.icon,exact:e.exact},e.text)})),r.map((function(e){return Object(n.jsx)(ea,{to:e.to,primary:e.text,icon:e.icon},e.text)}))]})]})}var ma=Object(B.b)((function(e){return{token:e.auth.token,sidebarVisible:e.pageState.sidebarVisible}}),(function(e){var t=Ht,a=Ft;return Object(O.b)({setSidebarVisible:t,logout:a},e)}))((function(e){var t,a=e.children,c=e.token,o=e.sidebarVisible,l=e.setSidebarVisible,u=e.logout,d=ja(),j=Object(qe.a)(),p=ut.getLinks(),m=Object(ua.a)(j.breakpoints.up("sm")),h=Object(r.useState)(null),g=Object(s.a)(h,2),O=g[0],f=g[1],v=Boolean(O),y=function(){f(null)},x=function(){l(!1)};return Object(n.jsxs)("div",{className:d.root,children:[Object(n.jsx)(Vt.a,{}),c&&Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(Wt.a,{position:"fixed",className:Object($.a)(d.appBar,Object(b.a)({},d.appBarShift,o&&m)),children:Object(n.jsxs)(Gt.a,{children:[Object(n.jsx)(_e.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},edge:"start",className:Object($.a)(d.menuButton,o&&d.hide),children:Object(n.jsx)(Jt.a,{})}),Object(n.jsx)(Me.a,{className:d.title,variant:"h6",noWrap:!0,children:"Content management system"}),Object(n.jsxs)("div",{children:[Object(n.jsx)(_e.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},color:"inherit",children:Object(n.jsx)(sa.a,{})}),Object(n.jsxs)(la.a,{id:"menu-appbar",anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:y,children:[Object(n.jsx)(oe.a,{onClick:function(){y(),u()},children:"Logout"}),Object(n.jsx)(oe.a,{to:"/settings",exact:!0,onClick:function(){return y()},component:It.b,children:"Settings"})]})]})]})}),Object(n.jsx)(Kt.a,{className:d.drawer,variant:m?"persistent":"temporary",anchor:"left",open:o,onClose:x,classes:{paper:d.drawerPaper},children:Object(n.jsx)(pa,{classes:d,handleDrawerClose:x,entityLinks:p})})]}),Object(n.jsxs)("main",{className:Object($.a)(d.content,(t={},Object(b.a)(t,d.contentShift,o&&m),Object(b.a)(t,d.contentSmUp,m),t)),children:[Object(n.jsx)("div",{className:d.drawerHeader}),a]})]})})),ha=function(e){return function(e){return e.alert}(e).alerts},ga=a(403),Oa=a(399),fa=Object(Y.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},marginBottom:e.spacing(1)}}})),va=Object(B.b)((function(e){return{alerts:ha(e)}}),(function(e){return Object(O.b)({removeAlert:k},e)}))((function(e){var t=e.alerts,a=e.removeAlert,i=fa(),c=Object(r.useReducer)((function(){return{}}),{})[1];return Object(r.useEffect)((function(){0!==Object.keys(t).length&&setInterval((function(){var e=!1;Object.entries(t).forEach((function(t){var n,r=Object(s.a)(t,2),i=r[0],c=r[1];Date.now()-(null!==(n=c.timestamp)&&void 0!==n?n:0)>=5e3&&(a(i),e=!0)})),e&&c()}),1e3)}),[t]),Object(n.jsx)("div",{className:i.root,children:Object.entries(t).map((function(e){var t=Object(s.a)(e,2),r=t[0],i=t[1];return Object(n.jsxs)(ga.a,{variant:"outlined",severity:i.severity,onClose:function(){a(r),c()},children:[i.title&&Object(n.jsx)(Oa.a,{children:i.title}),i.message]},r)}))})})),ya=a(406),xa=a(166),Ea=a(401),Sa=function(e){return e.pageState},Ta=function(e){return Sa(e)?Sa(e).themeName:"system"};a(297),a(298);function Ca(){return Object(n.jsx)("div",{children:Object(n.jsx)(Be,{children:"Home"})})}var _a=Object(B.b)((function(e){return{themeName:Ta(e)}}),(function(e){var t=Bt;return Object(O.b)({setTheme:t},e)}))((function(e){var t=e.themeName,a=e.setTheme;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(Be,{children:"Settings"}),Object(n.jsxs)(ie.a,{fullWidth:!0,children:[Object(n.jsx)(ce.a,{id:"theme",children:"Theme"}),Object(n.jsxs)(re.a,{labelId:"theme",value:t,onChange:function(e){return a(e.target.value)},children:[Object(n.jsx)(oe.a,{value:"system",children:"System"}),Object(n.jsx)(oe.a,{value:"dark",children:"Dark"}),Object(n.jsx)(oe.a,{value:"light",children:"Light"})]})]})]})}));function Da(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Page not found"})})}var Pa=a(400),ka=a(408),wa=a(164),Aa=a.n(wa),Ia=Object(Y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Na=Object(B.b)((function(e){return{token:e.auth.token}}),(function(e){var t=Ut;return Object(O.b)({auth:t},e)}))((function(e){var t=e.auth,a=e.token,i=Object(r.useState)(""),c=Object(s.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),b=d[0],j=d[1],p=Ia();return Object(n.jsxs)(Pa.a,{children:[a&&Object(n.jsx)(We.a,{to:"/"}),Object(n.jsxs)("div",{className:p.paper,children:[Object(n.jsx)(ka.a,{className:p.avatar,children:Object(n.jsx)(Aa.a,{})}),Object(n.jsx)(Me.a,{variant:"h5",children:"Login"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o,b)},children:[Object(n.jsx)(R.a,{label:"Username",id:"username",variant:"outlined",fullWidth:!0,required:!0,value:o,onChange:function(e){return l(e.target.value)},autoFocus:!0,margin:"normal",autoComplete:"username"}),Object(n.jsx)(R.a,{label:"Password",id:"password",type:"password",variant:"outlined",fullWidth:!0,required:!0,margin:"normal",autoComplete:"current-password",value:b,onChange:function(e){return j(e.target.value)}}),Object(n.jsx)(nt.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit,children:"Login"})]})]})]})}));var Fa=Object(B.b)((function(e){return{themeName:Ta(e)}}),(function(e){var t=qt;return Object(O.b)({validateAuth:t},e)}))((function(e){var t=e.validateAuth,a=e.themeName,i=ut.getRoutes();t();var c=Object(ua.a)("(prefers-color-scheme: dark)"),o=Object(r.useMemo)((function(){return Object(ya.a)(Object(xa.a)({palette:{type:"system"===a?c?"dark":"light":a}}))}),[c,a]);return Object(n.jsxs)(Ea.a,{theme:o,children:[Object(n.jsx)(Vt.a,{}),Object(n.jsx)(It.a,{children:Object(n.jsxs)(ma,{children:[Object(n.jsx)(va,{}),Object(n.jsxs)(We.d,{children:[Object(n.jsx)(We.b,{exact:!0,path:"/login",component:Na}),i.map((function(e){return Object(n.jsx)(Rt,{exact:!0,path:e.listPath,component:e.listComponent},"".concat(e.name,"-list"))})),i.map((function(e){return Object(n.jsx)(Rt,{exact:!0,path:e.editPath,component:e.editComponent},"".concat(e.name,"-edit"))})),Object(n.jsx)(Rt,{exact:!0,path:"/settings",component:_a}),Object(n.jsx)(Rt,{exact:!0,path:"/",component:Ca}),Object(n.jsx)(Rt,{path:"*",component:Da})]})]})})]})})),qa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,409)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},Ua=Object(O.c)(Object(l.a)(Object(l.a)({},ut.getReducers()),{},{auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.token?localStorage.setItem("token",t.token):localStorage.removeItem("token"),Object(l.a)(Object(l.a)({},e),{},{token:t.token});case v:return Object(l.a)(Object(l.a)({},e),{},{username:t.username});case y:return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case E:return Object(l.a)(Object(l.a)({},e),{},{superuser:t.superuser});case x:return Object(l.a)(Object(l.a)({},e),{},{permissions:t.permissions});default:return e}},pageState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(l.a)(Object(l.a)({},e),{},{sidebarVisible:t.visible});case T:return localStorage.setItem("theme",t.theme),Object(l.a)(Object(l.a)({},e),{},{themeName:t.theme});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(l.a)(Object(l.a)({},e),{},{alerts:Object(l.a)(Object(l.a)({},e.alerts),{},Object(b.a)({},t.id,t.data))});case _:var a=e.alerts;return delete a[t.id],Object(l.a)(Object(l.a)({},e),{},{alerts:a});default:return e}}})),La=[a(165).a],Ra=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,Ma=Object(O.e)(Ua,Ra(O.a.apply(void 0,La)));o.a.render(Object(n.jsx)(B.a,{store:Ma,children:Object(n.jsx)(Fa,{})}),document.getElementById("root")),qa()}},[[299,1,2]]]);
//# sourceMappingURL=main.5ce763c1.chunk.js.map