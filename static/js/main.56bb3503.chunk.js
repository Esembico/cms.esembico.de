(this["webpackJsonpcms.esembico.de"]=this["webpackJsonpcms.esembico.de"]||[]).push([[0],{286:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),i=a(12),o=a.n(i),s=a(41),l=a(6),u=a(137),d=a(138),j=a(36),b={allIds:[],byIds:{},byPage:{},error:null,status:"idle",lastPage:1,currentPage:1,totalItems:0,selectedId:null,editedData:null,filteredData:[],pageLoaded:{}};function p(e){var t=e.replace(" ","_").toUpperCase();return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SELECT_".concat(t,"_ID"):return Object(l.a)(Object(l.a)({},e),{},{selectedId:a.selectedId});case"SET_PAGE_".concat(t):return Object(l.a)(Object(l.a)({},e),{},{currentPage:a.page});case"SET_EDITED_DATA_".concat(t):var n=-1===a.id?{}:e.byIds[a.id];return Object(l.a)(Object(l.a)({},e),{},{editedData:n});case"UPDATE_DATA_".concat(t):var r=e.allIds;return r.includes(a.data.id)||r.push(a.data.id),Object(l.a)(Object(l.a)({},e),{},{allIds:r,byIds:Object(l.a)(Object(l.a)({},e.byIds),{},Object(j.a)({},a.data.id,a.data))});case"UPDATE_EDITED_DATA_".concat(t):var c=Object(l.a)(Object(l.a)({},e.editedData),{},Object(j.a)({},a.field,a.value));return Object(l.a)(Object(l.a)({},e),{},{editedData:c});case"UPDATE_".concat(t):var i=e.byPage[1];return a.new&&i.unshift(a.data.id),Object(l.a)(Object(l.a)({},e),{},{byIds:Object(l.a)(Object(l.a)({},e.byIds),{},Object(j.a)({},a.data.id,a.data)),pageLoaded:{}});case"FETCH_".concat(t,"_PENDING"):return Object(l.a)(Object(l.a)({},e),{},{status:"loading"});case"SET_FILTERED_DATA_".concat(t):return Object(l.a)(Object(l.a)({},e),{},{filteredData:a.data});case"FETCH_".concat(t,"_SUCCESS"):var o=[],s={},u=[],d=a.payload,p=d.data,h=d.page,m=d.nextPage;p.forEach((function(e){u.push(e.id),o.push(e.id),s[e.id]=e}));var g=Object(l.a)(Object(l.a)({},e.byIds),s),O=Math.max(e.lastPage,m||e.lastPage);return Object(l.a)(Object(l.a)({},e),{},{allIds:o,byIds:g,byPage:Object(l.a)(Object(l.a)({},e.byPage),{},Object(j.a)({},h,u)),status:"idle",lastPage:O,currentPage:h,totalItems:a.payload.count,pageLoaded:Object(l.a)(Object(l.a)({},e.pageLoaded),{},Object(j.a)({},h,Date.now()))});case"FETCH_".concat(t,"_ERROR"):return Object(l.a)(Object(l.a)({},e),{},{error:a.error,status:"idle"});default:return e}}}function h(e){var t={"Content-Type":"application/json"};return e&&(t.Authorization="Token ".concat(e)),t}function m(e,t){return new Promise((function(a,n){fetch(e,t).then((function(e){e.ok?204!==e.status?e.json().then((function(e){a(e)})):a():e.json().then((function(t){n({status:e.status,message:t})}))})).catch(n)}))}function g(e,t){var a=e.replace(" ","_").toUpperCase(),n=function(n,r){return function(c,i){var o=i(),s=Ce.getSelector(e,"getPageLastLoaded")(o,n),l=Date.now()-s;!r&&l<6e4?c({type:"SET_PAGE_".concat(a),page:n}):(c({type:"FETCH_".concat(a,"_PENDING")}),m("".concat("http://api.esembico.de","/").concat(t,"/?page=").concat(n),{headers:h()}).then((function(t){var r=Ce.getOption(e,"getNextPageNumber")(t);return c({type:"FETCH_".concat(a,"_SUCCESS"),payload:{data:t.results,count:t.count,page:n,nextPage:r}}),t.results})).catch((function(e){c({type:"FETCH_".concat(a,"_ERROR"),error:e})})))}};return{getPageAction:n,fetchAction:function(){return n(1)},selectItemAction:function(e){return function(t){t({type:"SELECT_".concat(a,"_ID"),selectedId:e})}},setEditedDataAction:function(n){return function(r,c){var i=c();-1===n||i[e].allIds.includes(n)?r({type:"SET_EDITED_DATA_".concat(a),id:n}):m("".concat("http://api.esembico.de","/").concat(t,"/").concat(n,"/")).then((function(e){r({type:"UPDATE_DATA_".concat(a),data:e}),r({type:"SET_EDITED_DATA_".concat(a),id:n})})).catch((function(e){r({type:"FETCH_".concat(a,"_ERROR"),error:e})}))}},updateEditedDataAction:function(e,t){return function(n){n({type:"UPDATE_EDITED_DATA_".concat(a),field:e,value:t})}},commitDataAction:function(e){return function(n,r){var c=r().auth.token;m("".concat("http://api.esembico.de","/").concat(t,"/").concat(e.id?"".concat(e.id,"/"):""),{method:e.id?"PUT":"POST",headers:h(c),body:JSON.stringify(e)}).then((function(t){n({type:"UPDATE_".concat(a),data:t,new:!e.id})})).catch((function(e){n({type:"FETCH_".concat(a,"_ERROR"),error:e})}))}},setFilteredDataAction:function(e){return function(n){m("".concat("http://api.esembico.de","/").concat(t,"/?search=").concat(e),{headers:h()}).then((function(e){n({type:"SET_FILTERED_DATA_".concat(a),data:e.results})})).catch((function(e){n({type:"FETCH_".concat(a,"_ERROR"),error:e})}))}},deleteItemAction:function(r){return function(c,i){var o=i(),s=o.auth.token,l=Ce.getSelector(e,"getCurrentPage");m("".concat("http://api.esembico.de","/").concat(t,"/").concat(r,"/"),{method:"DELETE",headers:h(s)}).then((function(){var e=l(o);c(n(e,!0))})).catch((function(e){c({type:"FETCH_".concat(a,"_ERROR"),error:e})}))}}}}var O=a(24);function f(e){return{mapStateToProps:function(t){var a=Ce.getSelectors(e),n=a.getError,r=a.getStatus,c=a.getCurrentPageData,i=a.getLastPage,o=a.getCurrentPage,s=a.getSelectedId,l=a.getSelectedData,u=a.getEditedData,d=a.getTotalItems;return{error:n(t),status:r(t),data:c(t),lastPage:i(t),currentPage:o(t),selectedId:s(t),selectedData:l(t),editedData:u(t),totalItems:d(t)}},mapDispatchToProps:function(t){var a=Ce.getActions(e),n=a.fetchAction,r=a.getPageAction,c=a.selectItemAction,i=a.setEditedDataAction,o=a.updateEditedDataAction,s=a.commitDataAction,l=a.deleteItemAction;return Object(O.b)({fetchData:n,selectPage:r,selectItem:c,setEditedData:i,updateEditedData:o,commitData:s,deleteItem:l},t)}}}function x(e){var t=function(t){return t[e]},a=function(e){return t(e)?t(e).allIds:[]},n=function(e,a){return t(e)?Object(l.a)(Object(l.a)({},t(e).byIds[a]),{},{id:a}):{}},r=function(e,a){return(t(e)?t(e).byPage[a]:[])||[]},c=function(e){return t(e)?t(e).currentPage:1},i=function(e){return t(e)?t(e).selectedId:null};return{getState:t,getList:a,getById:n,get:function(e){return a(e).map((function(t){return n(e,t)}))},getPage:r,getCurrentPage:c,getLastPage:function(e){return t(e)?t(e).lastPage:1},getCurrentPageData:function(e){var t=c(e);return r(e,t).map((function(t){return n(e,t)}))},getStatus:function(e){return t(e)?t(e).status:"idle"},getError:function(e){return t(e)?t(e).error:null},getSelectedId:i,getSelectedData:function(e){return i(e)?n(e,i(e)):{}},getEditedData:function(e){return t(e)?t(e).editedData:null},getFilteredData:function(e){return t(e)?t(e).filteredData:[]},getPageLastLoaded:function(e,a){var n=t(e);return n&&n.pageLoaded[a]?n.pageLoaded[a]:0},getTotalItems:function(e){return t(e)?t(e).totalItems:0}}}function v(e){return e.charAt(0).toUpperCase()+e.slice(1)}var y=a(61);function E(e){var t=e.children;return Object(n.jsx)("div",{className:"row",children:t})}var P=a(349);function D(e){var t=e.value,a=e.label,r=e.errors,c=Object(y.a)(e,["value","label","errors"]),i=[];return t&&i.push("has-value"),r&&i.push("has-errors"),Object(n.jsx)(P.a,Object(l.a)({error:!!r,label:a,value:t||"",helperText:null===r||void 0===r?void 0:r.join("\n"),fullWidth:!0,margin:"normal"},c))}var T=a(374),S=a(20);function _(e,t){return e?"object"!==typeof e?e:"string"===typeof t?e[t]:"function"===typeof t?t(e):"":""}function C(e){var t=e.label,a=e.entity,r=e.value,i=e.onChange,o=e.errors,s=e.required,u=Object(S.d)().getState(),d=Ce.getAction(a,"setFilteredDataAction"),j=Ce.getSelector(a,"getFilteredData")(u),b=Ce.getOption(a,"primaryProperty"),p=Object(S.c)();return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(T.a,{options:j,getOptionLabel:function(e){return _(e,b.display)},onChange:function(e,t){i(t)},onInputChange:function(e,t){p(d(t))},value:r,renderInput:function(e){return Object(n.jsx)(P.a,Object(l.a)(Object(l.a)({error:!!o,helperText:null===o||void 0===o?void 0:o.join("\n")},e),{},{label:t,margin:"normal",required:s}))},getOptionSelected:function(e,t){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)}})})}var I=a(144),A=a.n(I),w=a(103),k=a.n(w),q=a(83);a(283),a(284),a(285),a(286);function N(e){var t=e.errors;return Object(n.jsx)(c.a.Fragment,{children:t&&Object(n.jsx)(c.a.Fragment,{children:Array.isArray(t)?Object(n.jsx)(c.a.Fragment,{children:t.map((function(e,t){return Object(n.jsx)("span",{className:"error",children:e},t)}))}):Object(n.jsx)("span",{className:"error",children:t})})})}var F={vba:q.languageVBA,python:q.languagePython},R={code:function(e){var t=e.language,a=e.value;return Object(n.jsx)(q.CodeHighlighter,{getLanguageFunction:function(e,t){return t(F[e])},language:t,children:a})},image:function(e){return Object(n.jsx)("img",Object(l.a)({className:"responsive-image"},e))}};function L(e){var t=e.label,a=e.value,c=e.onChange,i=e.errors,o=Object(r.useState)("write"),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"markdown-label ".concat(i?"has-errors":""),children:t}),Object(n.jsx)(k.a,{value:a||"",onChange:c,selectedTab:u,onTabChange:d,generateMarkdownPreview:function(e){return Promise.resolve(Object(n.jsx)(A.a,{renderers:R,source:e}))}}),Object(n.jsx)(N,{errors:i})]})}var U=a(306),H=a(300),M=a(308),B=a(355),V=a(302);function W(e){var t=e.label,a=e.value,r=e.options,c=e.errors,i=e.onChange,o=e.required;return Object(n.jsxs)(H.a,{required:o,error:!!c,fullWidth:!0,children:[Object(n.jsx)(M.a,{children:t}),Object(n.jsxs)(U.a,{required:o,displayEmpty:!0,fullWidth:!0,value:a,onChange:i,children:[Object(n.jsx)(B.a,{value:"",children:Object(n.jsx)("em",{children:"None"})}),r.map((function(e){return Object(n.jsx)(B.a,{value:e.value,children:e.display},e.value)}))]}),Object(n.jsx)(V.a,{children:null===c||void 0===c?void 0:c.join("\n")})]})}function G(e,t){return"function"===typeof e?e(t):e}function J(e){var t=e.property,a=e.data,r=e.onUpdate,i=Object(y.a)(e,["property","data","onUpdate"]);if(t.if&&!t.if(a))return Object(n.jsx)(c.a.Fragment,{});var o=G(t.label,a);switch(t.type){case"select":return Object(n.jsx)(W,Object(l.a)({label:o,value:a[t.name],onChange:function(e){return r(t.name,e.target.value)},options:t.options,required:t.required},i));case"text":return Object(n.jsx)(D,Object(l.a)({label:o,value:a[t.name],multiline:t.multiline,onChange:function(e){return r(t.name,e.target.value)},required:t.required},i));case"number":return Object(n.jsx)(D,Object(l.a)({label:o,value:a[t.name],multiline:t.multiline,onChange:function(e){return r(t.name,e.target.value||null)},required:t.required},i));case"reference":return Object(n.jsx)(C,Object(l.a)({label:o,entity:t.to,value:a[t.name],onChange:function(e){return r(t.name,e)},required:t.required},i));case"markdown":return Object(n.jsx)(L,Object(l.a)({label:o,value:a[t.name],onChange:function(e){return r(t.name,e)},required:t.required},i));default:return Object(n.jsx)("span",{children:a[t.name]})}}function z(e){var t=e.proprties;return function(e){var a=e.data,r=e.onUpdate,i=e.errors;return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(E,{children:t.map((function(e){return Object(n.jsx)(c.a.Fragment,{children:J({property:e,data:a,onUpdate:r,errors:i[e.name]})},e.name)}))})})}}function K(e){return function(t){var a={};return e.forEach((function(e){e.if&&!e.if(t)||e.required&&function(e,t,a,n){a[n]||(e[n]||(e[n]=[]),e[n].push("".concat(t," is required")))}(a,G(e.label,t),t,e.name)})),a}}var X=a(357),Z=a(358),Q=a(359),Y=a(362),$=a(363),ee=a(360),te=a(361),ae=a(377),ne=a(354),re=a(106),ce=a.n(re),ie=a(108),oe=a.n(ie),se=a(107),le=a.n(se),ue=a(105),de=a.n(ue),je=a(356),be=a(25),pe=Object(je.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function he(e){var t=e.onChangePage,a=e.count,r=e.page,c=e.rowsPerPage,i=pe(),o=Object(be.a)();return Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsx)(ne.a,{onClick:function(){t(1)},disabled:0===r,"aria-label":"first page",children:"rtl"===o.direction?Object(n.jsx)(de.a,{}):Object(n.jsx)(ce.a,{})}),Object(n.jsx)(ne.a,{onClick:function(){t(r)},disabled:0===r,"aria-label":"previous page",children:"rtl"===o.direction?Object(n.jsx)(le.a,{}):Object(n.jsx)(oe.a,{})}),Object(n.jsx)(ne.a,{onClick:function(){t(r+2)},disabled:r>=Math.ceil(a/c)-1,"aria-label":"next page",children:"rtl"===o.direction?Object(n.jsx)(oe.a,{}):Object(n.jsx)(le.a,{})}),Object(n.jsx)(ne.a,{onClick:function(){t(Math.max(0,Math.ceil(a/c)))},disabled:r>=Math.ceil(a/c)-1,"aria-label":"last page",children:"rtl"===o.direction?Object(n.jsx)(ce.a,{}):Object(n.jsx)(de.a,{})})]})}function me(e){var t=e.data,a=e.columns,r=e.pageData,i=e.totalItems,o=e.onPageChange,s=e.onSelect,l=e.selected;return Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(X.a,{children:Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Q.a,{children:Object(n.jsx)(ee.a,{children:a.map((function(e){return Object(n.jsx)(te.a,{children:e.header},e.header)}))})}),Object(n.jsx)(Y.a,{children:t.map((function(e){return Object(n.jsx)(ee.a,{onClick:function(){return s(e.id)},selected:e.id===l,hover:!0,children:a.map((function(t){return Object(n.jsx)(te.a,{children:_(e,t.display)},"".concat(t.header,"-").concat(e.di))}))},e.id)}))}),i?Object(n.jsx)($.a,{children:Object(n.jsx)(ee.a,{children:Object(n.jsx)(ae.a,{rowsPerPageOptions:[],colSpan:3,count:i,rowsPerPage:parseInt("50"),page:r.current-1,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:o,ActionsComponent:he})})}):null]})})})}var ge=a(84);function Oe(e){var t=e.children;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(ge.a,{variant:"h3",children:t}),Object(n.jsx)("hr",{})]})}var fe=a(145),xe=a.n(fe);function ve(e){var t=e.show;return Object(n.jsx)(c.a.Fragment,{children:t&&Object(n.jsx)("div",{style:{margin:"40px auto 0 auto",width:"0px",height:"40px"},children:Object(n.jsx)(xe.a,{color:"white",size:80})})})}function ye(e){var t=e.children;return Object(n.jsx)("div",{className:"container",children:t})}var Ee=a(304),Pe=a(16);function De(e){var t=e.columns,a=e.entity,i=Ce.getMappers(a),o=i.mapStateToProps,s=i.mapDispatchToProps;return Object(S.b)(o,s)((function(e){var i=e.data,o=e.status,s=e.lastPage,l=e.currentPage,u=e.totalItems,d=e.fetchData,j=e.selectPage,b=e.selectItem,p=e.selectedId,h=Object(Pe.g)();Object(r.useEffect)((function(){d()}),[d]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe,{children:Ce.getOption(a,"header")}),Object(n.jsx)(ve,{show:"loading"===o}),"loading"!==o&&Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(ye,{children:[Object(n.jsx)(E,{children:Object(n.jsx)(Ee.a,{variant:"contained",color:"primary",onClick:function(){h.push(Ce.getEditUrl(a,"new"))},children:"New"})}),Object(n.jsx)(me,{pageData:{current:l,last:s},data:i,columns:t,onPageChange:function(e){j(e)},onSelect:function(e){b(e),h.push(Ce.getEditUrl(a,e))},selected:p,totalItems:u})]})})]})}))}function Te(e){var t=e.children,a=e.width;return Object(n.jsx)("div",{className:"col col-".concat(a),children:t})}var Se=a(365);function _e(e){var t=e.Editor,a=e.entity,c=Ce.getMappers(a),i=c.mapStateToProps,o=c.mapDispatchToProps;return Object(S.b)(i,o)((function(e){var c=e.editedData,i=e.fetchData,o=e.selectedId,l=e.setEditedData,u=e.updateEditedData,d=e.commitData,j=e.deleteItem,b=Object(r.useState)({}),p=Object(s.a)(b,2),h=p[0],m=p[1],g=Ce.getOption(a,"validateData");Object(r.useEffect)((function(){i()}),[i]);var O=Object(Pe.h)(),f=Object(Pe.g)(),x=O.id;Object(r.useEffect)((function(){l("new"===x?-1:parseInt(x))}),[x]),Object(r.useEffect)((function(){var e=g(c||{});m(e||{})}),[c,g]);return Object(n.jsxs)("div",{children:[Object(n.jsx)(Oe,{children:Ce.getOption(a,"header")}),c&&Object(n.jsx)(ye,{children:Object(n.jsx)(E,{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),0===Object.keys(h).length&&d(c)},children:[Object(n.jsx)(t,{errors:h,onUpdate:u,data:c}),Object(n.jsx)(Te,{width:100,children:Object(n.jsxs)(Se.a,{color:"primary",variant:"contained",children:[Object(n.jsx)(Ee.a,{disabled:0!==Object.keys(h).length,type:"submit",children:"Save"}),Object(n.jsx)(Ee.a,{onClick:function(){return f.push(Ce.getListUrl(a))},children:"Cancel"}),Object(n.jsx)(Ee.a,{onClick:function(){j(o)},color:"secondary",disabled:!c.id,children:"Delete"})]})})]})})})]})}))}var Ce=new(function(){function e(){Object(u.a)(this,e),this.states={},this.defaultOptions={validateData:function(){}},this.globalOptions={}}return Object(d.a)(e,[{key:"setGlobalOptions",value:function(e){this.globalOptions=e}},{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(l.a)(Object(l.a)(Object(l.a)({},this.defaultOptions),this.globalOptions),t),n=t.editor,r=a.validateData;if(a.buildValidationFromEditor){if(!Array.isArray(n))throw Error("editor needs to be an array to build validation");r=K(n)}Array.isArray(n)&&(n=z({proprties:n})),this.states[e]=Object(l.a)(Object(l.a)({},a),{},{actions:g(e,a.endpoint||e),selectors:x(e),mappers:f(e,a.endpoint),reducer:p(e),header:a.header||v(e),validateData:r,editor:n})}},{key:"getListUrl",value:function(e){return"/".concat(e)}},{key:"getEditUrl",value:function(e,t){return"/".concat(e,"/").concat(t)}},{key:"getRoutes",value:function(){var e=[];return Object.entries(this.states).forEach((function(t){var a=Object(s.a)(t,2),n=a[0],r=a[1];e.push({name:n,listPath:"/".concat(n),editPath:"/".concat(n,"/:id"),listComponent:De({columns:r.columns,primaryProperty:r.primaryProperty,entity:n,Editor:r.editor}),editComponent:_e({columns:r.columns,primaryProperty:r.primaryProperty,entity:n,Editor:r.editor})})})),e}},{key:"getOption",value:function(e,t,a){return this.states[e][t]||a}},{key:"getActions",value:function(e){return this.states[e].actions}},{key:"getAction",value:function(e,t){return this.states[e].actions[t]}},{key:"getSelectors",value:function(e){return this.states[e].selectors}},{key:"getSelector",value:function(e,t){return this.states[e].selectors[t]}},{key:"getMappers",value:function(e){return this.states[e].mappers}},{key:"getReducer",value:function(e){return this.states[e].reducer}},{key:"getReducers",value:function(){var e={};return Object.entries(this.states).forEach((function(t){var a,n=Object(s.a)(t,2),r=n[0],c=n[1];e[(a=r,a.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""))]=c.reducer})),e}}]),e}()),Ie={endpoint:"members",columns:[{header:"Name",display:"name"},{header:"Artist name",display:"artist_name"},{header:"Title",display:"titles"}],primaryProperty:{display:function(e){return"".concat(e.name," (").concat(e.artist_name,")")},header:"Name"},editor:[{type:"text",label:"Name",name:"name",required:!0},{type:"text",label:"Artist name",name:"artist_name",required:!0},{type:"text",label:"Titles",name:"titles",required:!0},{type:"text",label:"Bio",name:"bio",multiline:!0,required:!0},{type:"reference",label:"Image",name:"image",to:"images",required:!0}]},Ae=a(146),we=a.n(Ae),ke=a(147),qe=a.n(ke),Ne={columns:[{header:"Type",display:function(e){switch(e.type){case"movie":return Object(n.jsx)(we.a,{});case"misc":return Object(n.jsx)(qe.a,{});default:return e.type}}},{header:"Title",display:"title"},{header:"Description",display:"description"}],primaryProperty:{header:"Title",display:"title"},editor:[{type:"select",label:"Type",name:"type",options:[{value:"misc",display:"Misc"},{value:"movie",display:"Movie"}],required:!0},{type:"text",label:"Url",name:"url",required:!0},{type:"text",label:"Title",name:"title",required:!0},{type:"reference",label:"Image",name:"image",to:"images",required:!0},{type:"text",label:"Description",name:"description",if:function(e){return"misc"===e.type},required:!0},{type:"text",label:function(e){if("movie"===e.type)return"FSK Rating"},name:"field1",if:function(e){return"movie"===e.type},required:!0},{type:"text",label:function(e){if("movie"===e.type)return"Release year"},name:"field2",if:function(e){return"movie"===e.type},required:!0},{type:"text",label:"Field3",name:"field3",if:function(){return!1}},{type:"text",label:"Field4",name:"field4",if:function(){return!1}},{type:"text",label:"Field5",name:"field5",if:function(){return!1}}]},Fe={columns:[{header:"Url",display:"url"},{header:"Alternate text",display:"alt"},{header:"Dimension",display:function(e){return"".concat(e.width||"auto"," x ").concat(e.height||"auto")}}],primaryProperty:{header:"Url",display:"url"},editor:[{type:"text",label:"Url",name:"url",required:!0},{type:"text",label:"Alt",name:"alt",required:!0},{type:"number",label:"Width",name:"width"},{type:"number",label:"Height",name:"height"}]},Re={columns:[{header:"Title",display:"title"},{header:"Subtitle",display:"subtitle"}],primaryProperty:{header:"Title",display:"title"},editor:[{type:"text",label:"Title",name:"title",required:!0},{type:"text",label:"Subtitle",name:"subtitle",required:!0},{type:"text",label:"Url",name:"url",required:!0},{type:"reference",label:"Image",name:"image",to:"images",required:!0},{type:"text",label:"Challenge",name:"challenge",multiline:!0,required:!0},{type:"text",label:"Solution",name:"solution",multiline:!0,required:!0},{type:"text",label:"Rough details",name:"rough_details",multiline:!0,required:!0}]},Le={columns:[{header:"Name",display:"name"},{header:"Slug",display:"slug"}],primaryProperty:{header:"Name",display:"name"},editor:[{type:"text",label:"Name",name:"name",required:!0},{type:"text",label:"Slug",name:"slug",required:!0},{type:"markdown",label:"Content",name:"content",required:!0}]};Ce.setGlobalOptions({buildValidationFromEditor:!0,getNextPageNumber:function(e){if(e.next){var t=e.next.match(/[\w\W]*page=([0-9]*)/);return parseInt(t[1])}return null}}),Ce.register("team",Ie),Ce.register("recommendations",Ne),Ce.register("images",Fe),Ce.register("prototypes",Re),Ce.register("pages",Le);var Ue=a(48),He="SET_TOKEN",Me="SET_USERNAME",Be="SET_AUTH_ERROR",Ve="SET_SIDEBAR_VISIBLE",We={token:localStorage.getItem("token"),username:null};function Ge(){return function(e,t){var a=t();m("".concat("http://api.esembico.de","/current-user/"),{headers:h(a.auth.token)}).then((function(t){e({type:Me,username:t.user})})).catch((function(t){e({type:He,token:null}),e({type:Be,error:t})}))}}function Je(e,t){return function(a){m("".concat("http://api.esembico.de","/auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(t){t.non_field_errors?a({type:Be,error:t.non_field_errors}):(a({type:He,token:t.token}),a({type:Me,username:e}))})).catch((function(e){a({type:Be,error:e})}))}}var ze=Object(S.b)((function(e){return{token:e.auth.token}}))((function(e){var t=e.token,a=e.component,r=Object(y.a)(e,["token","component"]);return Object(n.jsx)(Pe.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){return t?Object(n.jsx)(a,Object(l.a)({},e)):Object(n.jsx)(Pe.a,{to:"/login"})}}))})),Ke={sidebarVisible:!0};function Xe(e){return function(t){t({type:Ve,visible:e})}}var Ze=a(4),Qe=a(368),Ye=a(369),$e=a(364),et=a(154),tt=a.n(et),at=a(376),nt=a(370),rt=a(353),ct=a(303),it=a(367),ot=a(366);function st(e){var t=e.icon,a=e.primary,r=e.to,c=e.exact;return Object(n.jsx)("li",{children:Object(n.jsxs)(ct.a,{button:!0,component:Ue.b,to:r,activeClassName:"Mui-selected",exact:c,children:[t?Object(n.jsx)(ot.a,{children:t}):null,Object(n.jsx)(it.a,{primary:a})]})})}var lt=a(155),ut=a.n(lt),dt=a(156),jt=a.n(dt),bt=a(149),pt=a.n(bt),ht=a(150),mt=a.n(ht),gt=a(151),Ot=a.n(gt),ft=a(152),xt=a.n(ft),vt=a(153),yt=a.n(vt),Et=a(148),Pt=a.n(Et),Dt=240,Tt=[{to:"/",text:"Home",icon:Object(n.jsx)(Pt.a,{}),exact:!0},{to:"/team",text:"Team",icon:Object(n.jsx)(pt.a,{})},{to:"/prototypes",text:"Prototypes",icon:Object(n.jsx)(mt.a,{})},{to:"/recommendations",text:"Recommendations",icon:Object(n.jsx)(Ot.a,{})},{to:"/pages",text:"Pages",icon:Object(n.jsx)(xt.a,{})},{to:"/images",text:"Images",icon:Object(n.jsx)(yt.a,{})}],St=Object(je.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Dt,"px)"),marginLeft:Dt,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Dt,flexShrink:0},drawerPaper:{width:Dt},drawerHeader:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));var _t=Object(S.b)((function(e){return{token:e.auth.token,sidebarVisible:e.pageState.sidebarVisible}}),(function(e){var t=Xe;return Object(O.b)({setSidebarVisible:t},e)}))((function(e){var t=e.children,a=e.token,r=e.sidebarVisible,i=e.setSidebarVisible,o=St(),s=Object(be.a)();return Object(n.jsxs)("div",{className:o.root,children:[Object(n.jsx)(Qe.a,{}),a&&Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(Ye.a,{position:"fixed",className:Object(Ze.a)(o.appBar,Object(j.a)({},o.appBarShift,r)),children:Object(n.jsxs)($e.a,{children:[Object(n.jsx)(ne.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(Ze.a)(o.menuButton,r&&o.hide),children:Object(n.jsx)(tt.a,{})}),Object(n.jsx)(ge.a,{variant:"h6",noWrap:!0,children:"Content management system"})]})}),Object(n.jsxs)(at.a,{className:o.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:o.drawerPaper},children:[Object(n.jsx)("div",{className:o.drawerHeader,children:Object(n.jsx)(ne.a,{onClick:function(){i(!1)},children:"ltr"===s.direction?Object(n.jsx)(ut.a,{}):Object(n.jsx)(jt.a,{})})}),Object(n.jsx)(nt.a,{}),Object(n.jsx)(rt.a,{children:Tt.map((function(e){return Object(n.jsx)(st,{to:e.to,primary:e.text,icon:e.icon,exact:e.exact},e.text)}))})]})]}),Object(n.jsxs)("main",{className:Object(Ze.a)(o.content,Object(j.a)({},o.contentShift,r)),children:[Object(n.jsx)("div",{className:o.drawerHeader}),t]})]})})),Ct=a(372),It=a(159),At=a(373);a(294);function wt(){return Object(n.jsx)("div",{children:Object(n.jsx)(Oe,{children:"Home"})})}function kt(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Page not found"})})}var qt=a(371),Nt=a(378),Ft=a(157),Rt=a.n(Ft),Lt=Object(je.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ut=Object(S.b)((function(e){return{token:e.auth.token}}),(function(e){var t=Je;return Object(O.b)({auth:t},e)}))((function(e){var t=e.auth,a=e.token,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),j=d[0],b=d[1],p=Lt();return Object(n.jsxs)(qt.a,{children:[a&&Object(n.jsx)(Pe.a,{to:"/"}),Object(n.jsxs)("div",{className:p.paper,children:[Object(n.jsx)(Nt.a,{className:p.avatar,children:Object(n.jsx)(Rt.a,{})}),Object(n.jsx)(ge.a,{variant:"h5",children:"Login"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o,j)},children:[Object(n.jsx)(P.a,{label:"Username",id:"username",variant:"outlined",fullWidth:!0,required:!0,value:o,onChange:function(e){return l(e.target.value)},autoFocus:!0,margin:"normal",autoComplete:"username"}),Object(n.jsx)(P.a,{label:"Password",id:"password",type:"password",variant:"outlined",fullWidth:!0,required:!0,margin:"normal",autoComplete:"current-password",value:j,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)(Ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:p.submit,children:"Login"})]})]})]})}));var Ht=Object(S.b)((function(){return{}}),(function(e){var t=Ge;return Object(O.b)({validateAuth:t},e)}))((function(e){var t=e.validateAuth,a=Ce.getRoutes();t();var c=Object(Ct.a)("(prefers-color-scheme: dark)"),i=Object(r.useMemo)((function(){return Object(It.a)({palette:{type:c?"dark":"light"}})}),[c]);return Object(n.jsxs)(At.a,{theme:i,children:[Object(n.jsx)(Qe.a,{}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(_t,{children:Object(n.jsxs)(Pe.d,{children:[Object(n.jsx)(Pe.b,{exact:!0,path:"/login",component:Ut}),a.map((function(e){return Object(n.jsx)(ze,{exact:!0,path:e.listPath,component:e.listComponent},"".concat(e.name,"-list"))})),a.map((function(e){return Object(n.jsx)(ze,{exact:!0,path:e.editPath,component:e.editComponent},"".concat(e.name,"-edit"))})),Object(n.jsx)(ze,{exact:!0,path:"/",component:wt}),Object(n.jsx)(ze,{path:"*",component:kt})]})})})]})})),Mt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,380)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},Bt=Object(O.c)(Object(l.a)(Object(l.a)({},Ce.getReducers()),{},{auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return localStorage.setItem("token",t.token),Object(l.a)(Object(l.a)({},e),{},{token:t.token});case Me:return Object(l.a)(Object(l.a)({},e),{},{username:t.username});case Be:return Object(l.a)(Object(l.a)({},e),{},{error:t.error});default:return e}},pageState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Object(l.a)(Object(l.a)({},e),{},{sidebarVisible:t.visible});default:return e}}})),Vt=[a(158).a],Wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,Gt=Object(O.e)(Bt,Wt(O.a.apply(void 0,Vt)));o.a.render(Object(n.jsx)(S.a,{store:Gt,children:Object(n.jsx)(Ht,{})}),document.getElementById("root")),Mt()}},[[295,1,2]]]);
//# sourceMappingURL=main.56bb3503.chunk.js.map